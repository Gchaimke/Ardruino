http://www.ebay.com/itm/ATMEGA16U2-Board-For-Arduino-Mega-2560-R3-Board-Kit-Compatible-With-USB-Cable/112157938577?ssPageName=STRK%3AMEBIDX%3AIT&_trksid=p2057872.m2749.l2649


Product Description
Description:
This is the new MEGA 2560 R3 . In addition to all the features of the previous board,
 the MEGA now uses an ATMega16U2 instead of the ATMega8U2 chip. This allows for faster 
transfer rates and more memory. No drivers needed for Linux or Mac (inf file for Windows 
is needed and included in the Arduino IDE), and the ability to have the Uno show up as 
a keyboard, mouse, joystick, etc.The MEGA2560 R3 also adds SDA and SCL pins next to the AREF. 
In addition, there are two new pins placed near the RESET pin. One is the IOREF that allow 
the shields to adapt to the voltage provided from the board. The other is a not connected 
and is reserved for future purposes. The MEGA2560 R3 works with all existing shields but can 
adapt to new shields which use these additional pins.

Revision 3 of the board has the following new features:
• pinout: added SDA and SCL pins that are near to the AREF pin and two other new pins placed 
near to the RESET pin, the IOREF that allow the shields to adapt to the voltage provided from 
the board. In future, shields will be compatible both with the board that use the AVR, which 
operate with 5V and with the Arduino Due that operate with 3.3V. The second one is a not connected 
pin, that is reserved for future purposes.

ATMEGA16U2 Board For Arduino Mega 2560 R3 Board 2012 Kit With Free USB Cable

Specifications:
Microcontroller: ATmega2560
Operating Voltage: 5V
Input Voltage (recommended): 7-12V
Input Voltage (limits): 6-20V
Digital I/O Pins: 54 (of which 15 provide PWM output)
Analog Input Pins: 16
DC Current per I/O Pin: 40 mA
DC Current for 3.3V Pin: 50 mA
Flash Memory: 256 KB of which 8 KB used by bootloader
SRAM: 8 KB
EEPROM:4 KB
Clock Speed:16MHz


Общая информация
 
На плате Arduino mega установлен микроконтроллер Atmega2560. Она оснащена 54 цифровыми входами/выходами
( Из них 14 могут работать в режиме выходов с широтно импульсной модуляцией)), 16 аналоговыми входами, 
разъемом ICSP, 4 последовательными портами UART, разъемом питания, кнопкой перезагрузки, USB коннектором 
и кварцевым генератором на 16 МГц. Плата начнет работать как только к ней будет подведено питание через 
USB вход, вход Vin от аккумулятора или вход для блока питания AC/DC. Mega 2560 совместима с любыми платами 
расширения, сделанными для платформы Duemilanove или Uno.
 
 
Характеристики
 
Микроконтроллер ATmega2560
Рабочее напряжение 5V
Предельное входное напряжение 6-20V
Рекомендуемое входное напряжение  7-12V
Аналоговые входы 16
Цифровые Выходы/Входы 54 (14 ШИМ выходов)
Постоянный ток для выхода 3.3 В 50 mA
Постоянный ток через вход/выход 40 mA
ОЗУ 8 KB
Flash-память 256 KB (8 КB для загрузчика)
Тактовая частота 16 MHz
Энергонезависимая память 4 KB
 
 
 
Питание
 
 
Источник питания выбирается автоматически. Им может быть внешнее питание (блок питания AC/DC, аккумуляторы) 
или подключение по USB. Разъем для блока питания 2.1 мм отрицательный полюс на внешнем контакте. Аккумуляторы
 подключаются к пинам GND и Vin. Плата рассчитана на внешнее питание от 6V до 20V. Если к плате подведено 
напряжение менее 7V, она может работать некорректно, на выходе 5V напряжение может быть меньше. Напряжение 
выше 12 V может повредить плату перегрев регулятор напряжения. Рекомендуется напряжение от 7 до 12 V. FTDI USB 
микроконтроллер на данной версии платы не используется. Atmega8U2, запрограммирован как USB-to-serial конвертер 
и используется для обмена данными.
* 5V. Регулируемый источник питания. Напряжение может поступать от разъема USB или от пина VIN через регулятор 
напряжения, или блока питания.
* 3V3. Микросхема на платформе FTDI создает напряжение на пине 3.3V. Максимальное потребление тока 50 мА.
* VIN. предназначен для питания от внешнего источника (при отсутствие питания от USB входа или другого 
регулируемого источника). Если плата подключена к блоку питания, то этот пин можно использовать как источник питания.
* GND. Земля.
 
 
 
Память
 
8 кБ ОЗУ и 4 Кб EEPROM (чтение и запись через библиотеки EEPROM).
256 кБ флеш-памяти для хранения кода программы (4 кБ для загрузчика).
 
 
Входы и Выходы
 
Все 54 цифровых пина arduino mega 2560 могут быть использованы как входы или выходы в зависимости от 
функции pinMode(), digitalWrite(), digitalRead(). Напряжение на пинах 5V. На каждом пине установлен нагрузочный 
резистор (по умолчанию выключен) может пропускать до 40 мА, сопротивление20-50 кОм. Различные пины могут иметь специальные функции:
 
Последовательные шины передачи данных:
* шина 0 - 0 RX, 1 TX
* шина 1 - 19 RX, 18 TX
* шина 2 - 17 RX, 16 TX
* шина 3 - 15 RX и 14 TX.
Пины предназначены для передачи (TX) и получения (RX) TTL данных. Пины 0 и 1 подключены к пинам serial bus ATmega8U2.
 
 
Внешнее прерывание:
* пин 2 -прерывание 0
* пин 3 -прерывание 1
* пин 18 -прерывание 5
* пин 19 -прерывание 4
* пин 20 -прерывание 3
* пин 21 -прерывание 2
Эти пины можно настроить на вызов прерывания при меньшем значении или при изменении значения или на заднем 
либо на переднем фронте,. Подробности можно найти изучив функцию attachInterrupt().
 
ШИМ: Пины от 2 до 13 а так же 44-46. Любой из пинов c помощью функции analogWrite() поддерживает ШИМ с разрешением 8 бит
 
SPI:
* пин 50 -MISO
* пин 51 -MOSI
* пин 52 -SCK
* пин 53 -SS
Через эти пины происходит связь SPI (см. Библиотеки SPI). Еще SPI пины могут быть вынесены на ICSP блоке 
совместимым с платформами Duemilanove, Diecimila и Uno.
 
Светодиод:
К цифровому пину 13 подключен светодиод. Если значение на выводе HIGH, светодиод загорается.
 
I2C:
* пин 20 – SDA
* пин 21 – SCL
Связь I2C(TWI) происходит через эти пины(см. библиотека Wire). Расположение пинов не подходит под Diecimila или Duemilanove.
 
Аналоговые входы:
На плате есть 16 аналоговых входов, каждый может принимать значение от 0 до 1023 (10 битное разрешение),
по умолчанию входы имеют диапазон измерений до 5V относительно земли, но можно увеличить верхний предел через вывод AREF и функцию analogReference().
 
Дополнительные пины:
* AREF Опорное напряжение для аналоговых входов(см. функцию analogReference()).
* Reset. Значение LOW на пине перезагружает микроконтроллер. Часто используется для подключения кнопки перезагрузки на плате расширения.
 
 
 
Связь
 
Микроконтроллер Arduino mega 2560 поддерживает 4 порта последовательной передачи данных UART для TTL. 
На плате имеется микросхема Atmega8U2, которая направляет один из интерфейсов через USB, благодаря чему 
программам на компьютере предоставляется виртуальный COM порт(Системы на базе Linux и Osx автоматически 
распознают COM порт, в Windows для правильной работы нужен .inf файл. В Arduino IDE есть Serial Monitor
(утилита для мониторинга последовательной шины), с помощью этой утилиты можно посылать и получать данные 
с платы. Когда через микросхему Atmega8U2 и подключение USB передаются данные на плате мигают светодиоды 
с обозначением RX и TX(чего не происходит при последовательной передаче через пины 0 и 1). Через каждый 
цифровой пин платы arduino mega2560 можно осуществить последовательную передачу данных, воспользовавшись 
библиотекой Software Serial.
ATmega2560 поддерживает интерфейсы I2C (TWI) и SPI. Для удобства использования шины I2C в Arduino включена 
библиотека Wire. Для связи по SPI, используется библиотека SPI.
 
 
 
Программирование
 
Для программирования платформы используется среда разработки Arduino. Подробную информацию можно изучить в справочнике и инструкциях.
Запись новых программ производится через встроенный в микроконтроллер ATmega2560 загрузчик, который 
позволяет обходиться без поддержки программаторов извне. Для связи используется свой протокол STK500. 
Микроконтроллер, также возможно программировать внутрисхемно, без использования загрузчика. Для внутрисхемного 
программирования используются выводы ICSP блока. По данной ссылке можно ознакомиться с детальной информацией. 
Чтобы прошить контроллер ATmega8U2 можно скачать код, который находится в свободном доступе. Для активации 
встроенного в контроллер DFU загрузчика, на обратной стороне платы  нужно замкнуть джампер, затем перезагрузить 
контроллер. Новая прошивка записывается через Atmel's FLIP если используется ОС Window, и DFU программатор если используются Mac OSx и/или Linux.
Альтернативным способом записи прошивки является использования внешнего программатора через ISP вход.
 
 
 
Автоматическая (программная) перезагрузка
 
Плата Mega сконструирована так, что программа сама вызывает перезагрузку перед тем как начать записывать 
новый код, и при этом перезагрузка не требует нажатия кнопки на платформе.
Линия, отвечающая за управление потоком данных (DTR) на ATmega8U2 , подключается через конденсатор 100 нФ 
к выводу перезагрузки микроконтроллера ATmega2560.
При активации вышеуказанной линии подается низкоуровневый сигнал, который, в свою очередь вызывает перезагрузку микроконтроллера.
Данная функция запускается программой «Arduino» при загрузке кода после нажатия кнопки «Upload» в среде 
программирования. Таймаут загрузчика сокращается за счет скоординированности начала записи кода и подачи низкоуровневого сигнала по DTR линии.
Следует отметить, что вышеуказанная функция имеет несколько применений. Если используются ОС Mac OSx или 
Linux (подключение через USB), при каждом подключении к программе «Arduino», Mega2560 перезагружается, 
после чего, спустя полсекунды запускается загрузчик.
Чтобы ограничить платформу от всех невалидных данных (принимается только код новой программы), при 
программировании задерживаются первые байты принимаемого кода. Для того чтобы успешно ввести иные данные 
при первом запуске, перед передачей данных программа на компьютере должна находиться в ожидании в 
течение секунды. Также, этот метод работает в том случае, когда нужно отладить скетч, уже записанный в платформу.
Если требуется отключить функцию автоперезагрузки на Mega2560, следует разорвать соответствующую линию. 
Чтобы восстановить, контакты микросхем соединяются с обоих концов линии, маркированной «RESET-EN».
Альтернативным методом отключения автоперезагрузки является подключение резистора 110 Ом. Резистор ставится между источником 5 В и данной линией
 
 
 
Токовая защита разъема USB
 
Для защиты USB порта компьютера от сверхтоков и токов короткого замыкания, Arduino Mega2560 обладает встроенной 
плавкой перезагружаемой вставкой. Предохранитель создает дополнительную защиту в дополнение к той, которой обладает большинство компьютеров.
Если ток проходящий через USB порт превышает 500 мА, предохранитель автоматически останавливает обмен данными.
 
Физические характеристики и совместимость с платами расширения
 
Длина: 10,2 см
Ширина: 5,3 см
Расстояние между цифровыми выводами (кроме выводов 7 и 8): 0,25 см
Расстояние между цифровыми выводами 7 и 8: 0,4 см
USB разъем: выступает за границы платы
Силовой разъем: выступает за границы платы
Дополнительно: 3 отверстия для закрепления платы на поверхности
 
Arduino Mega2560 совместимость: все платы расширения, разработанные для платформ Diecimila, Duemilanove и Uno
 
Совместимость выводов Mega с Diecimila, Duemilanove и Uno:
* выводы 0-13(и примыкающие AREF и GND),
* порт последовательной передачи UART (выводы 0 и 1) ,
* порт внешнего прерывания 0 и 1 (выводы 2 и 3),
* аналоговые входы 0-5,
* силовой разъем,
* блок ICSP.
Связь SPI может осуществляться через блок ICSP, как на платформах Duemilanove / Diecimila, так и на Mega2560
Расположение выводов (20 и 21) связи I2C на платформе Mega не соответствуют расположению тех же выводов 
(аналоговые входы 4 и 5) на Duemilanove / Diecimila.
